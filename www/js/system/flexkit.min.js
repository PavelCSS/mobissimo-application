(function(){var a,b,c;a=window.device;window.device={};device.type=!1;c=window.navigator.userAgent.toLowerCase();device.ios=function(){return device.iphone()||device.ipod()||device.ipad()};device.iphone=function(){return b("iphone")};device.ipod=function(){return b("ipod")};device.ipad=function(){return b("ipad")};device.android=function(){return b("android")};device.androidPhone=function(){return device.android()&&b("mobile")};device.androidTablet=function(){return device.android()&&!b("mobile")};
device.blackberry=function(){return b("blackberry")||b("bb10")||b("rim")};device.blackberryPhone=function(){return device.blackberry()&&!b("tablet")};device.blackberryTablet=function(){return device.blackberry()&&b("tablet")};device.windows=function(){return b("windows")};device.windowsPhone=function(){return device.windows()&&b("phone")};device.windowsTablet=function(){return device.windows()&&b("touch")};device.fxos=function(){return(b("(mobile;")||b("(tablet;"))&&b("; rv:")};device.fxosPhone=function(){return device.fxos()&&
b("mobile")};device.fxosTablet=function(){return device.fxos()&&b("tablet")};device.meego=function(){return b("meego")};device.mobile=function(){return device.androidPhone()||device.iphone()||device.ipod()||device.windowsPhone()||device.blackberryPhone()||device.fxosPhone()||device.meego()};device.tablet=function(){return device.ipad()||device.androidTablet()||device.blackberryTablet()||device.windowsTablet()||device.fxosTablet()};device.noConflict=function(){window.device=a;return this};b=function(a){return-1!==
c.indexOf(a)};if(device.ipad()||device.iphone()||device.ipod()||device.android()||device.blackberry()||device.windowsTablet()||device.windowsPhone()||device.fxos()||device.meego()||/tablet|mobile/i.test(document.body.className.substr(0)))device.type=!0}).call(this);$("body").on("touchstart",function(a){$(a.target).addClass("touch")}).on("touchend touchmove",function(a){$("*").removeClass("touch")});function showLoading(){}function hideLoading(){};(function(){$("table.responsive").each(function(){var a=$("tr",this),b=[];$("th",this).each(function(){var a=$(this).text();b.push(a)});$.each(b,function(b,d){a.find("td:eq("+b+")").prepend('<span class="table-head">'+d+"</span>")})})})();function parseTemplate(a,b,c){c="function"==typeof c?c:function(a){$("section").replaceWith(a)};$.get(b,function(b){a&&(b=Mustache.to_html(b,a));c(b)})};var typeAdd,callBack;function addPhoto(a,b,c){showLoading();callBack="function"==typeof c?c:"";typeAdd=a;navigator.camera.getPicture(onSuccessImage,onFailImage,{quality:80,encodingType:0,destinationType:a,sourceType:b,mediaType:0})}function onSuccessImage(a){callBack(typeAdd?a:"data:image/jpeg;base64,"+a);hideLoading()}function onFailImage(a){hideLoading();console.log("Failed because: "+a)};function uploadPhoto(a,b){var c=new FileUploadOptions;c.fileKey="file";c.fileName=a.substr(a.lastIndexOf("/")+1);c.mimeType="image/jpeg";c.headers={Connection:"close"};c.chunkedMode=!1;(new FileTransfer).upload(a,encodeURI(serverIp+"upload"),successUpload,failUpload,c)}function successUpload(a){alert(a.responseCode);console.log("Code = "+a.responseCode);console.log("Response = "+a.response);console.log("Sent = "+a.bytesSent);console.log(a.response);onBack(0);hideLoading()}
function failUpload(a){hideLoading();alert("Please try again...");alert(a.code);console.log("An error has occurred: Code = "+a.code)};
